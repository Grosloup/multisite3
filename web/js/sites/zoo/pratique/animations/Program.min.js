define(["require","exports","jquery"],function(a,b,c){var d=function(){function a(b,d,e,f){this.elem=b,this.mediator=d,this.evtManager=e,this.options={},this.header=null,this.headerTitle=null,this.headerDate=null,this.body=null,this.list=null,this.options=c.extend(!0,{},a.DEFAULTS,f||{}),this.init()}return a.prototype.init=function(){this.mediator.set(this.options.mediatorName,this),this.build(),this.attachEvents(),this.initMouseEvents()},a.prototype.build=function(){this.buildHeader(),this.buildBody(),this.elem.append(this.body)},a.prototype.buildHeader=function(){this.header=c("<div/>",{"class":this.getClass("headerClass")}),this.headerTitle=c("<div/>",{"class":this.getClass("headerTitleClass"),html:this.options.headerTitleText}),this.header.append(this.headerTitle),this.headerDate=c("<div/>",{"class":this.getClass("headerDateClass")}),this.header.append(this.headerDate),this.elem.append(this.header)},a.prototype.buildBody=function(){this.body=c("<div/>",{"class":this.getClass("bodyClass")})},a.prototype.attachEvents=function(){},a.prototype.dispatchDatas=function(a){var b=this;if(this.setDate(a.metas.year,a.metas.month,a.metas.day),this.emptyBody(),a[this.options.elemType].datas.length>0)this.list=this.createList(),c.each(a[this.options.elemType].datas,function(a,c){b.list.append(b.createListRow(c))}),this.body.append(this.list);else{var d=c("<p/>",{"class":this.getClass("messageClass"),html:a[this.options.elemType].message});this.body.append(d)}},a.prototype.setDate=function(a,b,c){var d=10>c?"0"+c:c.toString(),e=10>b?"0"+b:b.toString();this.headerDate.html(this.options.headerDateTemplate.replace("[[date]]",d+"/"+e+"/"+a))},a.prototype.unsetDate=function(){this.headerDate.empty()},a.prototype.unloadDatas=function(){this.unsetDate(),this.emptyBody()},a.prototype.createList=function(){return c("<ul/>",{"class":this.getClass("listClass")})},a.prototype.createListRow=function(a){var b=this.options.liTemplate.replace("[[hourClass]]",this.getClass("hourClass")).replace("[[nameClass]]",this.getClass("nameClass")).replace("[[placeClass]]",this.getClass("placeClass")).replace("[[hour]]",a.hour).replace("[[name]]",a.name).replace("[[place]]",a.place);return c("<li/>",{"class":this.getClass("listRowClass"),html:b})},a.prototype.showError=function(){},a.prototype.initMouseEvents=function(){},a.prototype.emptyBody=function(){this.body.empty()},a.prototype.getClass=function(a){var b=this.options.classPrefix||"",c=this.options[a]||"";return b+c},a.DEFAULTS={mediatorName:"shows",elemType:"shows",elemDefaultClass:"shows",classPrefix:"shows-",headerClass:"header",headerTitleText:"<h3>Spectacles</h3>",headerTitleClass:"header-title",headerDateClass:"header-date",headerDateTemplate:"<p>[[date]]</p>",messageClass:"message",bodyClass:"body",listClass:"list",listRowClass:"list-row",hourClass:"list-row-hour",nameClass:"list-row-name",placeClass:"list-row-place",liTemplate:"<span class='[[hourClass]]'>[[hour]]</span> <span class='[[nameClass]]'>[[name]]</span> <span class='[[placeClass]]'>[[place]]</span>"},a}();b.Program=d});