define(["require","exports","jquery","Event"],function(a,b,c,d){var e=function(){function a(b,d,e,f){this.curMonth=b,this.curYear=d,this.evtManager=e,this.isLocked=!1,this.options={},this.options=c.extend(!0,{},a.DEFAULTS,f||{}),this.init()}return a.prototype.init=function(){this.build(),this.initMouseEvents()},a.prototype.build=function(){var a,b;for(a=this.options.monthes.length,b=0,this.elem=c("<div/>",{"class":this.options.elemClass}),this.selector=c("<select/>");a>b;b++){var d=c("<option/>",{value:b.toString(),text:this.options.monthes[b]});this.selector.append(d)}this.year=c("<span/>",{text:this.curYear,"class":this.options.yearClass}),this.refresh(),this.prevBtn=c("<a/>",{"class":this.options.prevBtnClass,href:"#",html:"&lt;"}),this.nextBtn=c("<a/>",{"class":this.options.nextBtnClass,href:"#",html:"&gt;"}),this.elem.append([this.prevBtn,this.selector,this.year,this.nextBtn])},a.prototype.lock=function(){this.isLocked=!0},a.prototype.unlock=function(){this.isLocked=!1},a.prototype.getValue=function(){return this.selector.val()},a.prototype.setValue=function(a){this.selector.val(a)},a.prototype.getElement=function(){return this.elem},a.prototype.refresh=function(a){void 0!=a&&(this.curMonth=a),this.selector.val(this.curMonth.toString()),this.year.text(this.curYear.toString())},a.prototype.initMouseEvents=function(){var a;a=this,this.prevBtn.on("click",function(b){return b.preventDefault(),a.isLocked===!0?!1:(a.curMonth-=1,a.curMonth<0&&(a.curMonth=11,a.curYear-=1),void a.evtManager.trigger(new d.Event("ms:month:down",{month:a.curMonth,year:a.curYear,target:this})))}),this.nextBtn.on("click",function(b){return b.preventDefault(),a.isLocked===!0?!1:(a.curMonth+=1,a.curMonth>11&&(a.curMonth=0,a.curYear+=1),void a.evtManager.trigger(new d.Event("ms:month:up",{month:a.curMonth,year:a.curYear,target:this})))})},a.prototype.getMonthName=function(a){return this.options.monthes[a]},a.DEFAULTS={monthes:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],prevBtnClass:"ms-prev-btn",nextBtnClass:"ms-next-btn",elemClass:"ms-selector",yearClass:"ms-year"},a}();b.MonthSelector=e});