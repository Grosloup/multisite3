define(["require","exports","jquery","Slide"],function(a,b,c,d){var e;!function(a){function b(a,b){return new h(a,b)}function e(a,b){return new g(a,b)}function f(a){a.reverse()}var g=function(){function a(b,e){if(this.element=b,this.options={},this.interval=null,this.current=0,this.dots=[],this.isStarted=!1,this.isInitialized=!1,this.slidesObj=[],this.numSlides=0,this.$id="#",this.options=c.extend(!0,{},a.DEFAULTS,e||{}),""==this.element.attr("id")||null==this.element.attr("id")||void 0==this.element.attr("id"))throw new Error("Undefined id !");this.$id+=this.element.attr("id"),this.slidesContainer=this.element.find(".slides"),this.slides=this.slidesContainer.find(".slide");var f=this;c.each(this.slides,function(a,b){var e=new d.Slide(c(b));f.slidesObj.push(e)}),this.numSlides=this.slides.length,this.init()}return a.prototype.init=function(){this.options.hasNavigation===!0&&(this.createNav(),this.updateNavigation()),this.initEvents(),this.isInitialized===!1&&(this.slides.hide(),this.slides.removeClass("hide"),c(this.slides.get(this.current)).show(),this.element.height(c(this.slides.get(this.current)).height()),this.isInitialized=!0),this.options.onInit(this),this.options.auto===!0&&this.start()},a.prototype.start=function(){this.isInitialized===!1&&this.init(),this.isStarted=!0;var a=this;this.interval=window.setInterval(function(){a.options.reverse===!0?a.prev():a.next()},this.options.duration),this.options.onStart(this)},a.prototype.stop=function(){this.isStarted=!1,window.clearInterval(this.interval),this.options.onStop(this)},a.prototype.next=function(){var a=this;c(this.slides.get(this.current++)).fadeOut(this.options.fadeTransionTime/5),this.current==this.numSlides&&(this.current=0),c(this.slides.get(this.current)).fadeIn(this.options.fadeTransionTime,function(){a.element.height(c(a.slides.get(a.current)).height())}),this.options.hasNavigation===!0&&this.updateNavigation(),this.options.onNext(this)},a.prototype.prev=function(){var a=this;c(this.slides.get(this.current--)).fadeOut(this.options.fadeTransionTime/5),-1==this.current&&(this.current=this.numSlides-1),c(this.slides.get(this.current)).fadeIn(this.options.fadeTransionTime,function(){a.element.height(c(a.slides.get(a.current)).height())}),this.options.onPrev(this)},a.prototype.moveTo=function(a){var b=this;this.options.auto===!0&&this.stop(),c(this.slides.get(this.current)).fadeOut(this.options.fadeTransionTime/5),this.current=a,c(this.slides.get(this.current)).fadeIn(this.options.fadeTransionTime,function(){b.element.height(c(b.slides.get(b.current)).height())}),this.options.hasNavigation===!0&&this.updateNavigation(),this.options.auto===!0&&this.start(),this.options.onMoveTo(a,this)},a.prototype.createNav=function(){this.navBar=c("<div />",{"class":this.options.navBarClass}),this.dotsContainer=c("<ul />",{"class":this.options.dotsContainerClass}),this.slidesContainer.append(this.navBar.append(this.dotsContainer));var a=this;this.slides.each(function(b){a.createDot(b)})},a.prototype.createDot=function(a){var b=c("<a />",{"class":this.options.dotClass,"data-index":a,"data-dot":"",href:"#"}),d=c("<li />");d.append(b),this.dotsContainer.append(d),this.dots.push(b)},a.prototype.updateNavigation=function(){c.each(this.dots,function(a,b){b.removeClass("active")}),this.dots[this.current].addClass("active")},a.prototype.initEvents=function(){var a=this;this.options.hasNavigation===!0&&c(document).on("click",this.$id+" [data-dot]",function(b){b.preventDefault();var d=+c(this).attr("data-index");a.moveTo(d)}),c(window).on("resize",function(){a.options.auto===!0&&a.stop(),window.clearTimeout(a.isResizing),a.isResizing=window.setTimeout(function(){a.options.auto===!0&&a.start()},200),a.element.height(c(a.slides.get(a.current)).height())})},a.DEFAULTS={duration:5e3,fadeTranstionTime:500,auto:!0,hasNavigation:!0,navBarClass:"carousel-nav",dotsContainerClass:"carousel-nav-dots",dotClass:"carousel-nav-dot",reverse:!1,onInit:function(){},onStart:function(){},onStop:function(){},onNext:function(){},onPrev:function(){},onMoveTo:function(){}},a}(),h=function(){function a(b,e){if(this.element=b,this.options={},this.width=0,this.isResizing=null,this.interval=null,this.current=0,this.numSlides=0,this.dots=[],this.isStarted=!1,this.isInitialized=!1,this.slidesObj=[],this.$id="#",this.hasMessenger=!1,this.options=c.extend(!0,{},a.DEFAULTS,e||{}),""==this.element.attr("id")||null==this.element.attr("id")||void 0==this.element.attr("id"))throw new Error("Undefined id !");this.$id+=this.element.attr("id"),this.slidesContainer=this.element.find(".slides"),this.slides=this.slidesContainer.find(".slide"),this.messenger=this.element.find("."+this.options.messengerClass),this.messenger.length>0&&(this.hasMessenger=!0,this.messengerX=+this.messenger.attr("data-x"),this.messengerY=+this.messenger.attr("data-y"),this.messengerW=+this.messenger.attr("data-w"),this.messengerH=this.messenger.attr("data-h"),this.messenger.width(this.messengerW),"auto"!==this.messengerH&&""!==this.messengerH&&(this.messengerH=+this.messengerH,this.messenger.height(this.messengerH)));var f=this;c.each(this.slides,function(a,b){var e=new d.Slide(c(b));f.slidesObj.push(e)}),this.numSlides=this.slides.length,this.getVisible(),this.init()}return a.prototype.init=function(){this.width=this.firstImg.width(),this.options.hasNavigation===!0&&(this.createNav(),this.updateNavigation()),this.position(),this.hasMessenger&&this.positionMessenger(),this.initEvents(),this.isInitialized===!1&&(this.slides.hide(),this.slides.removeClass("hide"),c(this.slides.get(this.current)).show(),this.isInitialized=!0),this.options.onInit(this),this.options.auto===!0&&this.start()},a.prototype.start=function(){this.isInitialized===!1&&this.init(),this.isStarted=!0;var a=this;null!==this.interval&&this.stop(),this.interval=window.setInterval(function(){a.options.reverse===!0?a.prev():a.next()},this.options.duration),this.options.onStart(this)},a.prototype.stop=function(){this.isStarted=!1,null!==this.interval&&(window.clearInterval(this.interval),this.interval=null),this.options.onStop(this)},a.prototype.moveTo=function(a){this.options.auto===!0&&this.stop(),c(this.slides.get(this.current)).fadeOut(this.options.fadeTransionTime/5),this.current=a,c(this.slides.get(this.current)).fadeIn(this.options.fadeTransionTime),this.options.hasNavigation===!0&&this.updateNavigation(),this.options.auto===!0&&this.start(),this.options.onMoveTo(a,this)},a.prototype.next=function(){var a=this;this.slidesObj[this.current].getPause()>0?(this.stop(),window.setTimeout(function(){var b=a.current+1;b==a.numSlides&&(b=0),a.moveTo(b)},this.slidesObj[this.current].getPause())):(c(this.slides.get(this.current++)).fadeOut(this.options.fadeTransionTime/5),this.current==this.numSlides&&(this.current=0),c(this.slides.get(this.current)).fadeIn(this.options.fadeTransionTime),this.options.hasNavigation===!0&&this.updateNavigation()),this.options.onNext(this)},a.prototype.prev=function(){var a=this;this.slidesObj[this.current].getPause()>0?(this.stop(),window.setTimeout(function(){var b=a.current-1;-1==b&&(b=a.numSlides-1),a.moveTo(b)},this.slidesObj[this.current].getPause())):(c(this.slides.get(this.current--)).fadeOut(this.options.fadeTransionTime/5),-1==this.current&&(this.current=this.numSlides-1),c(this.slides.get(this.current)).fadeIn(this.options.fadeTransionTime),this.options.hasNavigation===!0&&this.updateNavigation()),this.options.onPrev(this)},a.prototype.reverse=function(){this.options.auto===!0&&this.stop(),this.options.reverse=!this.options.reverse,this.options.auto===!0&&this.start()},a.prototype.position=function(){var a=c(window).width();this.slidesContainer.css("left",-((this.width-a)/2)+"px")},a.prototype.positionMessenger=function(){var a=c(window).width();this.messengerX>0&&this.messenger.css("left",(this.element.width()-a)/2+(a*(this.messengerX/100)-this.messengerW/2)+"px"),this.messengerY>0&&this.messenger.css("top",this.element.height()*(this.messengerY/100)+"px")},a.prototype.getVisible=function(){this.firstImg=this.element.find(".slide .slide-img:visible").first()},a.prototype.initEvents=function(){var a=this;this.options.hasNavigation===!0&&c(document).on("click",this.$id+" [data-dot]",function(b){b.preventDefault();var d=+c(this).attr("data-index");a.moveTo(d)}),this.options.auto===!0&&(this.slidesContainer.on("mouseenter",function(b){b.preventDefault(),a.stop()}),this.slidesContainer.on("mouseleave",function(b){b.preventDefault(),a.start()})),c(window).on("resize",function(){a.options.auto===!0&&a.stop(),window.clearTimeout(a.isResizing),a.isResizing=window.setTimeout(function(){a.options.auto===!0&&a.start()},200),a.getVisible(),a.width=a.firstImg.width(),a.position(),a.hasMessenger&&a.positionMessenger()})},a.prototype.createNav=function(){this.navBar=c("<div />",{"class":this.options.navBarClass}),this.dotsContainer=c("<ul />",{"class":this.options.dotsContainerClass}),this.element.append(this.navBar.append(this.dotsContainer));var a=this;this.slides.each(function(b){a.createDot(b)})},a.prototype.createDot=function(a){var b=c("<a />",{"class":this.options.dotClass,"data-index":a,"data-dot":"",href:"#"}),d=c("<li />");d.append(b),this.dotsContainer.append(d),this.dots.push(b)},a.prototype.updateNavigation=function(){c.each(this.dots,function(a,b){b.removeClass("active")}),this.dots[this.current].addClass("active")},a.DEFAULTS={duration:2e3,fadeTransionTime:300,auto:!0,reverse:!1,hasNavigation:!0,navBarClass:"carousel-nav",dotsContainerClass:"carousel-nav-dots",dotClass:"carousel-nav-dot",messengerClass:"carousel-messenger",onInit:function(){},onStart:function(){},onStop:function(){},onNext:function(){},onPrev:function(){},onMoveTo:function(){}},a}();a.initHeaderCarousel=b,a.initCarousel=e,a.reverse=f}(e=b.Carousel||(b.Carousel={}))});