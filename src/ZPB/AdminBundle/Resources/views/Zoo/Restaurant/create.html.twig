{% extends "ZPBAdminBundle:Layouts:master.html.twig" %}

{% block title %}Ajouter un restaurant | ZooParc de Beauval{% endblock %}
{% set active = "new_restos" %}

{% block content %}
    <div class="row">
        <div class="column-1"></div>
        <div class="column-6">
            <div class="tile">
                <div class="tile-header">
                    Ajouter un restaurant
                </div>

                {{ form_start(form, {attr:{class: "form", novalidate:true}}) }}
                {{ form_errors(form) }}

                <div class="form-row {% if form.name.vars.errors|length>0 %}has-error{% endif %}">
                    {{ form_label(form.name) }}
                    <div class="form-field">
                        {{ form_widget(form.name) }}
                        {% if form.name.vars.errors|length>0 %}
                            <div class="error-block">
                                {{ form_errors(form.name)}}
                            </div>
                        {% endif %}
                    </div>
                </div>

                <div class="form-row {% if form.description.vars.errors|length>0 %}has-error{% endif %}">
                    {{ form_label(form.description) }}
                    <div class="form-field">
                        {{ form_widget(form.description) }}
                        {% if form.description.vars.errors|length>0 %}
                            <div class="error-block">
                                {{ form_errors(form.description)}}
                            </div>
                        {% endif %}
                    </div>
                </div>

                <div class="form-row {% if form.mapNum.vars.errors|length>0 %}has-error{% endif %}">
                    {{ form_label(form.mapNum) }}
                    <div class="form-field">
                        {{ form_widget(form.mapNum) }}
                        {% if form.mapNum.vars.errors|length>0 %}
                            <div class="error-block">
                                {{ form_errors(form.mapNum)}}
                            </div>
                        {% endif %}
                    </div>
                </div>

                <div class="form-row">
                    {{ form_widget(form.save, {attr: {class: "btn-flat btn-primary"}})}}
                </div>
                {{ form_end(form) }}

            </div>
        </div>
        <div class="column-4">
            <div class="tile">
                <div class="tile-header">
                    Affecter un visuel
                </div>
                <div id="image-chooser">
                    <h5>Uploader une image</h5>
                    <div class="dropzone" id="dropzone" data-longid="{{ form.vars.value.longId }}">
                        <div class="dropzone-in" id="dropzone-img">
                            <div class="dropzone-legend"></div>
                        </div>
                        <div class="dropzone-loader">
                            <div class="dropzone-innerbar" id="dropzone-progress"></div>
                        </div>
                        <div class="dropzone-message"></div>
                        <div class="dropzone-actions hide">
                            <a class="btn btn-primary dropzone-delete-btn" href="#">Supprimer le fichier</a>
                        </div>
                    </div>
                    <h5>Ou entrer le nom d'un fichier de la médiathèque</h5>
                    <div class="form">
                        <div class="form-row">
                            <div class="form-field">
                                <input type="text" name="filename" id="filename"/>
                                <div class="error-block" id="error">

                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <button class="btn btn-primary" id="addImgBtn">ok</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="column-1"></div>
    </div>

{% endblock %}
{% block footScripts %}
    {{ parent() }}

    <script src="/js/admin/newResto.min.js"></script>
{% endblock %}
